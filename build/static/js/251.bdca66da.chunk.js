"use strict";(self.webpackChunkreact_simple_movies=self.webpackChunkreact_simple_movies||[]).push([[251],{724:function(e,t,s){s.d(t,{d:function(){return d},Z:function(){return o}});s(791);var n=s(871),l=s(555),i=s(110),a=s(470),r=s(184),c=function(e){return(0,r.jsx)("div",{className:"skeleton ".concat(e.className),style:{height:e.height,width:e.width||"100%",borderRadius:e.radius}})};var o=(0,a.withErrorBoundary)((function(e){var t=e.item,s=t.title,a=t.vote_average,c=t.release_date,o=t.poster_path,d=t.id,h=(0,n.s0)();return(0,r.jsxs)("div",{className:"movie-card flex flex-col rounded-lg p-3 bg-slate-800 text-white \r h-full select-none",children:[(0,r.jsx)("img",{src:l.Qo.image500(o),alt:"",className:"w-full h-[250px] object-cover rounded-lg mb-5"}),(0,r.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,r.jsx)("h3",{className:"text-xl font-bold mb-3",children:s}),(0,r.jsxs)("div",{className:"flex items-center justify-between opacity-50 mb-10",children:[(0,r.jsx)("span",{children:c}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{children:a}),(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"#f7ce36",children:(0,r.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})]})]}),(0,r.jsx)(i.Z,{bgColor:"secondary",onClick:function(){return h("/movie/".concat(d))},children:"Watch now"})]})]})}),{FallbackComponent:function(){return(0,r.jsx)("p",{className:"bg-red-50 text-red-400",children:"Some thing went wrong with this component"})}}),d=function(){return(0,r.jsxs)("div",{className:"movie-card flex flex-col rounded-lg p-3 bg-slate-800 text-white \r h-full select-none",children:[(0,r.jsx)(c,{width:"100%",height:"250px",radius:"8px",className:"mb-5"}),(0,r.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,r.jsx)("h3",{className:"text-xl font-bold mb-3",children:(0,r.jsx)(c,{width:"100%",height:"20px"})}),(0,r.jsxs)("div",{className:"flex items-center justify-between opacity-50 mb-10",children:[(0,r.jsx)("span",{children:(0,r.jsx)(c,{width:"50px",height:"10px"})}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{children:(0,r.jsx)(c,{width:"30px",height:"10px"})}),(0,r.jsx)(c,{width:"10px",height:"10px"})]})]}),(0,r.jsx)(c,{width:"100%",height:"45px",radius:"6px"})]})]})}},251:function(e,t,s){s.r(t),s.d(t,{default:function(){return h}});var n=s(885),l=s(791),i=(s(419),s(724)),a=s(555);s(48);var r=s(810),c=s(110),o=s(667),d=s(184),h=function(){var e,t,s=(0,l.useState)(0),h=(0,n.Z)(s,2),u=(h[0],h[1]),x=(0,l.useState)(0),m=(0,n.Z)(x,2),f=m[0],p=(m[1],(0,l.useState)(1)),g=(0,n.Z)(p,2),v=g[0],j=(g[1],(0,l.useState)("")),w=(0,n.Z)(j,2),N=w[0],b=w[1],k=(0,l.useState)(a.Qo.getMovieList("popular",v)),y=(0,n.Z)(k,2),Z=y[0],_=y[1],S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,s=(0,l.useState)(e),i=(0,n.Z)(s,2),a=i[0],r=i[1];return(0,l.useEffect)((function(){var s=setTimeout((function(){r(e)}),t);return function(){clearTimeout(s)}}),[t,e]),a}(N,500),C=(0,o.ZP)((function(e){return Z.replace("page=1","page=".concat(e+1))}),a._i),M=C.data,L=C.error,E=C.size,z=C.setSize,Q=M?M.reduce((function(e,t){return e.concat(t.results)}),[]):[],B=!M&&!L,T=0===(null===M||void 0===M||null===(e=M[0])||void 0===e?void 0:e.results.length)||M&&(null===(t=M[M.length-1])||void 0===t?void 0:t.results.length)<20;console.log("MoviePage ~ isReachingEnd",T),(0,l.useEffect)((function(){_(S?a.Qo.getMovieSearch(S,v):a.Qo.getMovieList("popular",v))}),[S,v]),(0,l.useEffect)((function(){M&&M.total_results&&u(Math.ceil(M.total_results/20))}),[M,f]);return(0,d.jsxs)("div",{className:"py-10 page-container",children:[(0,d.jsxs)("div",{className:"flex mb-10",children:[(0,d.jsx)("div",{className:"flex-1",children:(0,d.jsx)("input",{type:"text",className:"w-full p-4 bg-slate-800 text-white outline-none",placeholder:"Type here to search...",onChange:function(e){b(e.target.value)}})}),(0,d.jsx)("button",{className:"p-4 bg-primary text-white",children:(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),B&&(0,d.jsx)("div",{className:"grid grid-cols-4 gap-10",children:new Array(20).fill(0).map((function(){return(0,d.jsx)(i.d,{},(0,r.Z)())}))}),(0,d.jsx)("div",{className:"grid grid-cols-4 gap-10",children:!B&&Q.length>0&&Q.map((function(e){return(0,d.jsx)(i.Z,{item:e},e.id)}))}),(0,d.jsx)("div",{className:"mt-10 text-center",children:(0,d.jsx)(c.Z,{onClick:function(){return T?{}:z(E+1)},disabled:T,className:"".concat(T?"bg-slate-300":""),children:"Load more"})})]})}}}]);
//# sourceMappingURL=251.bdca66da.chunk.js.map