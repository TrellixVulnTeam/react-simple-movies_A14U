{"ast":null,"code":"import React from\"react\";import{useParams}from\"react-router-dom\";import useSWR from\"swr\";import{fetcher,tmdbAPI}from\"apiConfig/config\";import{Swiper,SwiperSlide}from\"swiper/react\";import MovieCard from\"components/movies/MovieCard\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MovieDetailPage=function MovieDetailPage(){var _useParams=useParams(),movieId=_useParams.movieId;var _useSWR=useSWR(tmdbAPI.getMovieDetail(movieId),fetcher),data=_useSWR.data;if(!data)return null;var backdrop_path=data.backdrop_path,poster_path=data.poster_path,title=data.title,genres=data.genres,overview=data.overview;return/*#__PURE__*/_jsxs(\"div\",{className:\"py-10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-full h-[600px] relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-black bg-opacity-70\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-full bg-cover bg-no-repeat\",style:{backgroundImage:\"url(\".concat(tmdbAPI.imageOriginal(backdrop_path),\")\")}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-[400px] max-w-[800px] mx-auto -mt-[200px] relative z-10 mb-10\",children:/*#__PURE__*/_jsx(\"img\",{src:tmdbAPI.imageOriginal(poster_path),className:\"w-full h-full object-cover rounded-xl\",alt:\"\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-center text-4xl font-bold text-white mb-10\",children:title}),genres.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center gap-x-5 mb-10\",children:genres.map(function(item){return/*#__PURE__*/_jsx(\"span\",{className:\"py-2 px-4 border-primary text-primary border rounded\",children:item.name},item.id);})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-xl leading-relaxed max-w-[600px] mx-auto mb-10\",children:overview}),/*#__PURE__*/_jsx(MovieMeta,{type:\"credits\"}),/*#__PURE__*/_jsx(MovieMeta,{type:\"videos\"}),/*#__PURE__*/_jsx(MovieMeta,{type:\"similar\"})]});};function MovieMeta(_ref){var _ref$type=_ref.type,type=_ref$type===void 0?\"videos\":_ref$type;var _useParams2=useParams(),movieId=_useParams2.movieId;var _useSWR2=useSWR(tmdbAPI.getMovieMeta(movieId,type),fetcher),data=_useSWR2.data;if(!data)return null;if(type===\"credits\"){var cast=data.cast;if(!cast||cast.length<=0)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"py-10\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center text-3xl mb-10 font-bold\",children:\"Casts\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-4 gap-5\",children:cast.slice(0,4).map(function(item){return/*#__PURE__*/_jsxs(\"div\",{className:\"card-item\",children:[/*#__PURE__*/_jsx(\"img\",{src:tmdbAPI.imageOriginal(item.profile_path),className:\"w-full h-[350px] object-cover rounded-lg mb-3\",alt:\"\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl text-center font-medium\",children:item.name})]},item.id);})})]});}else{var results=data.results;if(!results||results.length<=0)return null;if(type===\"videos\")return/*#__PURE__*/_jsx(\"div\",{className:\"py-10\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col gap-10\",children:results.slice(0,2).map(function(item){return/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"mb-5 text-xl font-medium p-3 bg-secondary inline-block\",children:item.name}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full aspect-video\",children:/*#__PURE__*/_jsx(\"iframe\",{width:\"942\",height:\"530\",src:\"https://www.youtube.com/embed/\".concat(item.key),title:\"\\u0110\\xE2y M\\u1EDBi\",frameBorder:\"0\",allow:\"accelerometer; autoplay; clipboard-write;\\r encrypted-media; gyroscope; picture-in-picture\",allowFullScreen:true,className:\"w-full h-full object-fill\"})})]},item.id);})})});if(type===\"similar\")return/*#__PURE__*/_jsxs(\"div\",{className:\"py-10\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-medium mb-10\",children:\"Similar Movies\"}),/*#__PURE__*/_jsx(\"div\",{className:\"movie-list\",children:/*#__PURE__*/_jsx(Swiper,{grabCursor:\"true\",spaceBetween:40,slidesPerView:\"auto\",children:results.length>0&&results.map(function(item){return/*#__PURE__*/_jsx(SwiperSlide,{children:/*#__PURE__*/_jsx(MovieCard,{item:item})},item.id);})})})]});}return null;}export default MovieDetailPage;","map":{"version":3,"names":["React","useParams","useSWR","fetcher","tmdbAPI","Swiper","SwiperSlide","MovieCard","MovieDetailPage","movieId","getMovieDetail","data","backdrop_path","poster_path","title","genres","overview","backgroundImage","imageOriginal","length","map","item","name","id","MovieMeta","type","getMovieMeta","cast","slice","profile_path","results","key"],"sources":["E:/react-project/react-simple-movies/src/pages/MovieDetailPage.js"],"sourcesContent":["import React from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport useSWR from \"swr\";\r\nimport { fetcher, tmdbAPI } from \"apiConfig/config\";\r\nimport { Swiper, SwiperSlide } from \"swiper/react\";\r\nimport MovieCard from \"components/movies/MovieCard\";\r\n\r\nconst MovieDetailPage = () => {\r\n  const { movieId } = useParams();\r\n  const { data } = useSWR(tmdbAPI.getMovieDetail(movieId), fetcher);\r\n  if (!data) return null;\r\n  const { backdrop_path, poster_path, title, genres, overview } = data;\r\n\r\n  return (\r\n    <div className=\"py-10\">\r\n      <div className=\"w-full h-[600px] relative\">\r\n        <div className=\"absolute inset-0 bg-black bg-opacity-70\"></div>\r\n        <div\r\n          className=\"w-full h-full bg-cover bg-no-repeat\"\r\n          style={{\r\n            backgroundImage: `url(${tmdbAPI.imageOriginal(backdrop_path)})`,\r\n          }}\r\n        ></div>\r\n      </div>\r\n      <div className=\"w-full h-[400px] max-w-[800px] mx-auto -mt-[200px] relative z-10 mb-10\">\r\n        <img\r\n          src={tmdbAPI.imageOriginal(poster_path)}\r\n          className=\"w-full h-full object-cover rounded-xl\"\r\n          alt=\"\"\r\n        />\r\n      </div>\r\n      <h1 className=\"text-center text-4xl font-bold text-white mb-10\">\r\n        {title}\r\n      </h1>\r\n      {genres.length > 0 && (\r\n        <div className=\"flex items-center justify-center gap-x-5 mb-10\">\r\n          {genres.map((item) => (\r\n            <span\r\n              className=\"py-2 px-4 border-primary text-primary border rounded\"\r\n              key={item.id}\r\n            >\r\n              {item.name}\r\n            </span>\r\n          ))}\r\n        </div>\r\n      )}\r\n      <p className=\"text-center text-xl leading-relaxed max-w-[600px] mx-auto mb-10\">\r\n        {overview}\r\n      </p>\r\n      <MovieMeta type=\"credits\"></MovieMeta>\r\n      <MovieMeta type=\"videos\"></MovieMeta>\r\n      <MovieMeta type=\"similar\"></MovieMeta>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction MovieMeta({ type = \"videos\" }) {\r\n  const { movieId } = useParams();\r\n  const { data } = useSWR(tmdbAPI.getMovieMeta(movieId, type), fetcher);\r\n  if (!data) return null;\r\n\r\n  if (type === \"credits\") {\r\n    const { cast } = data;\r\n    if (!cast || cast.length <= 0) return null;\r\n    return (\r\n      <div className=\"py-10\">\r\n        <h2 className=\"text-center text-3xl mb-10 font-bold\">Casts</h2>\r\n        <div className=\"grid grid-cols-4 gap-5\">\r\n          {cast.slice(0, 4).map((item) => (\r\n            <div className=\"card-item\" key={item.id}>\r\n              <img\r\n                src={tmdbAPI.imageOriginal(item.profile_path)}\r\n                className=\"w-full h-[350px] object-cover rounded-lg mb-3\"\r\n                alt=\"\"\r\n              />\r\n              <h3 className=\"text-xl text-center font-medium\">{item.name}</h3>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  } else {\r\n    const { results } = data;\r\n    if (!results || results.length <= 0) return null;\r\n    if (type === \"videos\")\r\n      return (\r\n        <div className=\"py-10\">\r\n          <div className=\"flex flex-col gap-10\">\r\n            {results.slice(0, 2).map((item) => (\r\n              <div className=\"\" key={item.id}>\r\n                <h3 className=\"mb-5 text-xl font-medium p-3 bg-secondary inline-block\">\r\n                  {item.name}\r\n                </h3>\r\n                <div className=\"w-full aspect-video\">\r\n                  <iframe\r\n                    width=\"942\"\r\n                    height=\"530\"\r\n                    src={`https://www.youtube.com/embed/${item.key}`}\r\n                    title=\"Đây Mới\"\r\n                    frameBorder=\"0\"\r\n                    allow=\"accelerometer; autoplay; clipboard-write;\r\n                            encrypted-media; gyroscope; picture-in-picture\"\r\n                    allowFullScreen\r\n                    className=\"w-full h-full object-fill\"\r\n                  ></iframe>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      );\r\n    if (type === \"similar\")\r\n      return (\r\n        <div className=\"py-10\">\r\n          <h2 className=\"text-3xl font-medium mb-10\">Similar Movies</h2>\r\n          <div className=\"movie-list\">\r\n            <Swiper\r\n              grabCursor={\"true\"}\r\n              spaceBetween={40}\r\n              slidesPerView={\"auto\"}\r\n            >\r\n              {results.length > 0 &&\r\n                results.map((item) => (\r\n                  <SwiperSlide key={item.id}>\r\n                    <MovieCard item={item}></MovieCard>\r\n                  </SwiperSlide>\r\n                ))}\r\n            </Swiper>\r\n          </div>\r\n        </div>\r\n      );\r\n  }\r\n  return null;\r\n}\r\n\r\nexport default MovieDetailPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}