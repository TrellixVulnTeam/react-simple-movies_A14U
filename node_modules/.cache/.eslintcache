[{"E:\\react-project\\react-simple-movies\\src\\index.js":"1","E:\\react-project\\react-simple-movies\\src\\reportWebVitals.js":"2","E:\\react-project\\react-simple-movies\\src\\App.js":"3","E:\\react-project\\react-simple-movies\\src\\pages\\MoviePageV2.js":"4","E:\\react-project\\react-simple-movies\\src\\pages\\HomePage.js":"5","E:\\react-project\\react-simple-movies\\src\\pages\\MovieDetailPage.js":"6","E:\\react-project\\react-simple-movies\\src\\components\\layout\\Main.js":"7","E:\\react-project\\react-simple-movies\\src\\components\\banner\\Banner.js":"8","E:\\react-project\\react-simple-movies\\src\\components\\button\\Button.js":"9","E:\\react-project\\react-simple-movies\\src\\components\\layout\\Header.js":"10","E:\\react-project\\react-simple-movies\\src\\apiConfig\\config.js":"11","E:\\react-project\\react-simple-movies\\src\\components\\movies\\MovieCard.js":"12","E:\\react-project\\react-simple-movies\\src\\hooks\\useDebounce.js":"13","E:\\react-project\\react-simple-movies\\src\\components\\movies\\MovieList.js":"14","E:\\react-project\\react-simple-movies\\src\\components\\loading\\LoadingSkeleton.js":"15"},{"size":628,"mtime":1656331105485,"results":"16","hashOfConfig":"17"},{"size":362,"mtime":1656330352483,"results":"18","hashOfConfig":"17"},{"size":1161,"mtime":1657780444655,"results":"19","hashOfConfig":"17"},{"size":4151,"mtime":1656520179864,"results":"20","hashOfConfig":"17"},{"size":919,"mtime":1656512284979,"results":"21","hashOfConfig":"17"},{"size":4660,"mtime":1656517563058,"results":"22","hashOfConfig":"17"},{"size":285,"mtime":1656512317580,"results":"23","hashOfConfig":"17"},{"size":2038,"mtime":1656516475485,"results":"24","hashOfConfig":"17"},{"size":703,"mtime":1656520243070,"results":"25","hashOfConfig":"17"},{"size":569,"mtime":1656482708617,"results":"26","hashOfConfig":"17"},{"size":829,"mtime":1656512023859,"results":"27","hashOfConfig":"17"},{"size":3456,"mtime":1656520182490,"results":"28","hashOfConfig":"17"},{"size":429,"mtime":1656475150969,"results":"29","hashOfConfig":"17"},{"size":2071,"mtime":1656517555302,"results":"30","hashOfConfig":"17"},{"size":330,"mtime":1656516579547,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","suppressedMessages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"19ixk3t",{"filePath":"35","messages":"36","suppressedMessages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","suppressedMessages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","suppressedMessages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44"},{"filePath":"45","messages":"46","suppressedMessages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"48","messages":"49","suppressedMessages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","suppressedMessages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","suppressedMessages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"57","messages":"58","suppressedMessages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","suppressedMessages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","suppressedMessages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","suppressedMessages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"69","messages":"70","suppressedMessages":"71","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"72","messages":"73","suppressedMessages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"75","messages":"76","suppressedMessages":"77","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"E:\\react-project\\react-simple-movies\\src\\index.js",[],[],"E:\\react-project\\react-simple-movies\\src\\reportWebVitals.js",[],[],"E:\\react-project\\react-simple-movies\\src\\App.js",[],[],"E:\\react-project\\react-simple-movies\\src\\pages\\MoviePageV2.js",["78","79","80","81"],[],"import React, { useEffect, useState } from \"react\";\r\nimport useSWR from \"swr\";\r\nimport MovieCard, { MovieCardSkeleton } from \"components/movies/MovieCard\";\r\nimport { fetcher, tmdbAPI } from \"apiConfig/config\";\r\nimport useDebounce from \"hooks/useDebounce\";\r\nimport ReactPaginate from \"react-paginate\";\r\nimport { v4 } from \"uuid\";\r\nimport Button from \"components/button/Button\";\r\nimport useSWRInfinite from \"swr/infinite\";\r\nconst itemsPerPage = 20;\r\n\r\nconst MoviePage = () => {\r\n  const [pageCount, setPageCount] = useState(0);\r\n  const [itemOffset, setItemOffset] = useState(0);\r\n  const [nextPage, setNextPage] = useState(1);\r\n  const [filter, setFilter] = useState(\"\");\r\n  const [url, setUrl] = useState(tmdbAPI.getMovieList(\"popular\", nextPage));\r\n  const filterDebounce = useDebounce(filter, 500);\r\n  const handleFilterChange = (e) => {\r\n    setFilter(e.target.value);\r\n  };\r\n  const { data, error, size, setSize } = useSWRInfinite(\r\n    (index) => url.replace(\"page=1\", `page=${index + 1}`),\r\n    fetcher\r\n  );\r\n  const movies = data ? data.reduce((a, b) => a.concat(b.results), []) : [];\r\n  const loading = !data && !error;\r\n  const isEmpty = data?.[0]?.results.length === 0;\r\n  const isReachingEnd =\r\n    isEmpty || (data && data[data.length - 1]?.results.length < itemsPerPage);\r\n  console.log(\"MoviePage ~ isReachingEnd\", isReachingEnd);\r\n  useEffect(() => {\r\n    if (filterDebounce) {\r\n      setUrl(tmdbAPI.getMovieSearch(filterDebounce, nextPage));\r\n    } else {\r\n      setUrl(tmdbAPI.getMovieList(\"popular\", nextPage));\r\n    }\r\n  }, [filterDebounce, nextPage]);\r\n  useEffect(() => {\r\n    if (!data || !data.total_results) return;\r\n    setPageCount(Math.ceil(data.total_results / itemsPerPage));\r\n  }, [data, itemOffset]);\r\n  const handlePageClick = (event) => {\r\n    const newOffset = (event.selected * itemsPerPage) % data.total_results;\r\n    setItemOffset(newOffset);\r\n    setNextPage(event.selected + 1);\r\n  };\r\n  return (\r\n    <div className=\"py-10 page-container\">\r\n      <div className=\"flex mb-10\">\r\n        <div className=\"flex-1\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"w-full p-4 bg-slate-800 text-white outline-none\"\r\n            placeholder=\"Type here to search...\"\r\n            onChange={handleFilterChange}\r\n          />\r\n        </div>\r\n        <button className=\"p-4 bg-primary text-white\">\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            className=\"h-6 w-6\"\r\n            fill=\"none\"\r\n            viewBox=\"0 0 24 24\"\r\n            stroke=\"currentColor\"\r\n          >\r\n            <path\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              strokeWidth=\"2\"\r\n              d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"\r\n            />\r\n          </svg>\r\n        </button>\r\n      </div>\r\n      {/* {loading && (\r\n        <div className=\"w-10 h-10 rounded-full border-4 border-primary border-t-transparent border-t-4 mx-auto animate-spin\"></div>\r\n      )} */}\r\n      {loading && (\r\n        <div className=\"grid grid-cols-4 gap-10\">\r\n          {new Array(itemsPerPage).fill(0).map(() => (\r\n            <MovieCardSkeleton key={v4()}></MovieCardSkeleton>\r\n          ))}\r\n        </div>\r\n      )}\r\n      <div className=\"grid grid-cols-4 gap-10\">\r\n        {!loading &&\r\n          movies.length > 0 &&\r\n          movies.map((item) => (\r\n            <MovieCard key={item.id} item={item}></MovieCard>\r\n          ))}\r\n      </div>\r\n      <div className=\"mt-10 text-center\">\r\n        <Button\r\n          onClick={() => (isReachingEnd ? {} : setSize(size + 1))}\r\n          disabled={isReachingEnd}\r\n          className={`${isReachingEnd ? \"bg-slate-300\" : \"\"}`}\r\n        >\r\n          Load more\r\n        </Button>\r\n      </div>\r\n      {/* <div className=\"mt-10\">\r\n        <ReactPaginate\r\n          breakLabel=\"...\"\r\n          nextLabel=\"next >\"\r\n          onPageChange={handlePageClick}\r\n          pageRangeDisplayed={5}\r\n          pageCount={pageCount}\r\n          previousLabel=\"< previous\"\r\n          renderOnZeroPageCount={null}\r\n          className=\"pagination\"\r\n        />\r\n      </div> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MoviePage;\r\n","E:\\react-project\\react-simple-movies\\src\\pages\\HomePage.js",[],[],"E:\\react-project\\react-simple-movies\\src\\pages\\MovieDetailPage.js",[],[],"E:\\react-project\\react-simple-movies\\src\\components\\layout\\Main.js",[],[],"E:\\react-project\\react-simple-movies\\src\\components\\banner\\Banner.js",[],[],"E:\\react-project\\react-simple-movies\\src\\components\\button\\Button.js",[],[],"E:\\react-project\\react-simple-movies\\src\\components\\layout\\Header.js",[],[],"E:\\react-project\\react-simple-movies\\src\\apiConfig\\config.js",[],[],"E:\\react-project\\react-simple-movies\\src\\components\\movies\\MovieCard.js",[],[],"E:\\react-project\\react-simple-movies\\src\\hooks\\useDebounce.js",[],[],"E:\\react-project\\react-simple-movies\\src\\components\\movies\\MovieList.js",[],[],"E:\\react-project\\react-simple-movies\\src\\components\\loading\\LoadingSkeleton.js",[],[],{"ruleId":"82","severity":1,"message":"83","line":2,"column":8,"nodeType":"84","messageId":"85","endLine":2,"endColumn":14},{"ruleId":"82","severity":1,"message":"86","line":6,"column":8,"nodeType":"84","messageId":"85","endLine":6,"endColumn":21},{"ruleId":"82","severity":1,"message":"87","line":13,"column":10,"nodeType":"84","messageId":"85","endLine":13,"endColumn":19},{"ruleId":"82","severity":1,"message":"88","line":43,"column":9,"nodeType":"84","messageId":"85","endLine":43,"endColumn":24},"no-unused-vars","'useSWR' is defined but never used.","Identifier","unusedVar","'ReactPaginate' is defined but never used.","'pageCount' is assigned a value but never used.","'handlePageClick' is assigned a value but never used."]